<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="fc:miniapp" content='{
  "version":"1",
  "imageUrl":"https://number-guess-on-base1.vercel.app/public/icon.png",
  "button":{
      "title":"Play Now",
      "action":{
      "type":"launch_miniapp",
      "name":"number-guess-on-base",
      "url":"https://number-guess-on-base1.vercel.app",
      "splashImageUrl":"https://number-guess-on-base1.vercel.app/public/splash.png"
      }
  }
  }' />

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="number-guess-on-base" />
    <meta property="og:description" content="Play a fun number guessing game on Base. Guess a number between 0 and 100, compete for the leaderboard, and win bragging rights!" />
    <meta property="og:image" content="https://number-guess-on-base1.vercel.app/public/preview.png" />


    <title>Guessing Game</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="manifest" href="/miniapp.json" />
  </head>
  <body>
    <div id="header">
      <div class="sect">
        <h1>Guessing Game ğŸ®</h1>

        <div class="right">
          <button id="connect" type="button">Sign In</button>
          <p id="msg"></p>
        </div>
      </div>
    </div>

    <div class="main-layout">

      <div class="game-container">
        <i
          >NB: Simple guess game, You only need to guess a random number from 0
          - 100</i
        ><br />

        <input
          type="number"
          id="userGuess"
          placeholder="Enter your guess (0-100)"
          min="0"
          max="100"
        />
        <button id="actionButton">Check</button>
        <p id="feedback"></p>
        <button id="resetGame">Reset Game</button>
      </div>

      <div id="board">
        <h2>LeaderBoard ğŸ†</h2>

        <div id="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Rank</th>
                <th>Players</th>
                <th>Correct Guess</th>
                <th>Attempts</th>
              </tr>
            </thead>

            <tbody id="leaderboardBody"></tbody>
          </table>
        </div>
      </div>
    </div>

    <div id="info">
      <h5 id="playerStat">
        
      </h5>
    </div>

    <footer>
      <p>Built by <span>nze20.base.eth</span></p>
    </footer>

    <!-- Ethers.js (browser build) -->

    <script
      src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"
      type="application/javascript"

    ></script>

        <!-- Farcaster miniapp SDK (UMD build) - exposes `miniapp` global -->
        <script type="module">
          import { sdk } from "https://esm.sh/@farcaster/miniapp-sdk"

          window.addEventListener("DOMContentLoaded", async()=>{
            try{
              await sdk.actions.ready();
              const accnt = await sdk.wallet.accounts();
              if(accnt.length > 0){
                console.log("connected")
              }else{
                await sdk.wallet.connect();
                
              }
            }catch(err){
              console.error(err)
            }
          })
        </script>

    <script type="module" src="./main.js"></script>
  </body>
</html>
